#Linux #utility


**Vim** — это мощный текстовый редактор, который используется в основном в командной строке и особенно популярен среди разработчиков и системных администраторов. Он является улучшенной версией текстового редактора **Vi**. Vim предлагает широкий набор команд и возможностей, включая редактуру текста, навигацию, поиск, замену, автоматизацию задач и много другое.

Для эффективного использования Vim важно понимать его основные режимы работы, команды и сочетания клавиш.

### Основные режимы в Vim

1. **Нормальный режим (Normal Mode)**: Это режим по умолчанию. В этом режиме вы можете перемещаться по тексту, удалять символы, строки, копировать и вставлять текст. Большинство команд в Vim выполняются в нормальном режиме.
    
    Для перехода в нормальный режим, если вы находитесь в другом режиме, нажмите `Esc`.
    
2. **Вставочный режим (Insert Mode)**: В этом режиме вы можете вводить текст. Это тот же режим, в котором вы работаете в обычных текстовых редакторах.
    
    Чтобы войти в вставочный режим, в нормальном режиме нажмите `i` (для вставки текста перед курсором), `I` (вставка в начале строки), `a` (вставка после курсора), `A` (вставка в конец строки).
    
3. **Командный режим (Command Mode)**: В этом режиме вы можете выполнять различные команды для работы с файлом, например, сохранять файл, выходить из Vim, искать текст и т. д.
    
    Для перехода в командный режим нажмите `:` в нормальном режиме.
    
4. **Выделение режима (Visual Mode)**: В этом режиме вы можете выделять текст для его копирования, вырезания или других операций.
    
    Чтобы войти в визуальный режим, нажмите `v` (выделение с помощью курсора), `V` (выделение целых строк) или `Ctrl`+`v` (выделение блока текста).
    

### Основные команды и сочетания клавиш

#### Навигация в нормальном режиме

- `h`: Переместить курсор влево (на 1 символ).
- `j`: Переместить курсор вниз (на 1 строку).
- `k`: Переместить курсор вверх (на 1 строку).
- `l`: Переместить курсор вправо (на 1 символ).
- `0`: Переместиться в начало текущей строки.
- `$`: Переместиться в конец текущей строки.
- `gg`: Переместиться в начало файла.
- `G`: Переместиться в конец файла.
- `w`: Переместиться на начало следующего слова.
- `b`: Переместиться на начало предыдущего слова.
- `Ctrl` + `f`: Прокрутить страницу вниз (на 1 экран).
- `Ctrl` + `b`: Прокрутить страницу вверх (на 1 экран).
- `/text`: Поиск текста `text` вперед по файлу.
- `?text`: Поиск текста `text` назад по файлу.
- `n`: Перейти к следующему вхождению найденного текста.
- `N`: Перейти к предыдущему вхождению найденного текста.

#### Режим вставки

- `i`: Вставить перед курсором.
- `I`: Вставить в начале строки.
- `a`: Вставить после курсора.
- `A`: Вставить в конец строки.
- `o`: Открыть новую строку ниже текущей и перейти в режим вставки.
- `O`: Открыть новую строку выше текущей и перейти в режим вставки.
- `Esc`: Выйти из режима вставки в нормальный режим.

#### Удаление текста

- `x`: Удалить текущий символ под курсором.
- `dd`: Удалить текущую строку.
- `d$`: Удалить от текущего курсора до конца строки.
- `d0`: Удалить от текущего курсора до начала строки.
- `dw`: Удалить слово под курсором.
- `dG`: Удалить от текущей строки до конца файла.
- `dgg`: Удалить от текущей строки до начала файла.

#### Копирование и вставка текста

- `yy`: Копировать текущую строку (или "выделить" строку).
- `yw`: Копировать (выделить) слово под курсором.
- `p`: Вставить текст после курсора.
- `P`: Вставить текст перед курсором.
- `ddp`: Переместить строку ниже текущей.
- `yyP`: Вставить строку выше текущей.

#### Отмена и повторы действий

- `u`: Отменить последнее действие.
- `Ctrl` + `r`: Повторить отменённое действие.
- `Ctrl` + `u`: Прокрутить окно вверх.
- `Ctrl` + `d`: Прокрутить окно вниз.

#### Сохранение и выход

- `:w`: Сохранить файл.
- `:wq` или `ZZ`: Сохранить файл и выйти.
- `:q`: Выйти из Vim (если не было изменений).
- `:q!`: Выйти без сохранения изменений.
- `:x`: Сохранить файл и выйти (аналог `:wq`).

#### Поиск и замена текста

- `/text`: Найти в тексте слово `text` вперед.
- `?text`: Найти в тексте слово `text` назад.
- `n`: Перейти к следующему вхождению найденного текста.
- `N`: Перейти к предыдущему вхождению найденного текста.
- `:%s/old/new/g`: Заменить все вхождения `old` на `new` во всём файле.
- `:s/old/new/g`: Заменить все вхождения в текущей строке.
- `:s/old/new/gc`: Заменить все вхождения с подтверждением.

#### Работа с несколькими файлами

- `:e <filename>`: Открыть файл `<filename>`.
- `:w <filename>`: Сохранить файл под новым именем.
- `:bnext` или `:bn`: Перейти к следующему открытому файлу.
- `:bprev` или `:bp`: Перейти к предыдущему открытому файлу.
- `:bd`: Закрыть текущий файл.

#### Другие полезные команды

- `:set number`: Показать номера строк.
- `:set nonumber`: Скрыть номера строк.
- `:set autoindent`: Включить автоматический отступ.
- `:set tabstop=4`: Установить размер табуляции на 4 пробела.
- `:help <command>`: Получить справку по команде или функции.
- `:syntax on`: Включить подсветку синтаксиса.
- `:syntax off`: Выключить подсветку синтаксиса.

### Режимы Visual

1. **Visual Mode (выделение текста)**:
    - `v`: Войти в визуальный режим (выделение символов).
    - `V`: Войти в визуальный режим для выделения целых строк.
    - `Ctrl` + `v`: Войти в визуальный блоковый режим для выделения прямоугольных блоков текста.
    - `y`: Копировать выделенный текст.
    - `d`: Удалить выделенный текст.
    - `p`: Вставить выделенный текст.
    - `Esc`: Выйти из визуального режима.

---

### Полезные советы для новичков

- **Режимы**: Всегда помните, в каком режиме вы находитесь. Обычно это можно заметить по строке состояния, где показывается текущий режим.
- **Esc** — это ваш друг. Выйдите из любого другого режима в нормальный режим, чтобы выполнить команды.
- **Команды начинаются с буквы**: Например, чтобы удалить, копировать или вставить текст, вам нужно начать с команды типа `d`, `y`, `p` и так далее.

---

### Заключение

Vim — это невероятно мощный редактор, и хотя его освоение может быть немного сложным для новичков, как только вы привыкнете к его основным командам и режимам, вы сможете работать с ним очень быстро и эффективно. Важно тренироваться и запомнить базовые команды, а также пользоваться встроенной справкой через команду `:help`.